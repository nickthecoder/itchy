Bugs
   
Change Companion hierarchy to have Builder classes with the fluent stuff in them.
    
Look at companion, it has font, font size and color. Why ????

Change all "copy" methods to clone.

Save an animation with delay/frames = 0 fails, but the error message throws an exception!!! - possibly Label's font not set
    Catch the exception rather than let it crash the system
    Fix the exception

Should TextPose have a TextStyle, rather than individual attributes?

Why have a Role interface if everything will end up using AbstractRole?
    Why does Role have "birth" and yet everything uses onBirth() ? Ditto with other events.
    Talk to Simon about it.

Rebuild Jame on i686, amd64, win32, arm32
    Package jame and itchy



Undo/Redo

    Trouble with null/blank values for colorize.

    Cut actor
    Classname changes
    Paste an Actor
    Any other fields which don't use propertiesforms    

    Toolbar buttons

SceneDesigner for Text
    In the toolbox, if a Costume has no "default" pose, but does have a "default" TextStyle, then it is text.
    Actor should only have a Constructor which takes a Costume. Make Costume mandatory.
        We can have a helper method, which takes an arbitary pose, and creates a costume.
    Don't have a "Text" tool??
    When loading, existing text won't have a costume, in which case, create a costume for each
        Font (or maybe font,font-size combo).
    The thumbnail should have the font-size in the bottom right if its bigger than the thumbnail can display.
        Using an Editor's font, because we want a plain, consistant font.
    Attributes for a single actor can be overridden, such as color, alignment.
    When saving an actor, only save the attributes which differ from the costume's style.
    Have a "Reset to Costume Defaults", and a "Apply to Costume" buttons.


Sprite Sheet Pose
    Allow multiple poses to be loaded from one image, and define the rectangle of each sub-image.

Group Costumes on the SceneDesigner's toolbox, so that similar costumes can be displayed as a single item.
    Clicking it reveals a popup, where the actual Costume can be selected.
    Use this for Pyrox's machines, one way streets, and maybe even the walls.
        A costume can have a "Group Leader" field, which is the name of the Costume that is displayed as the
        main icon in the scene design toolbox. Similar impl as "costume base"

SceneDesigner : select groups of actors, and move/delete them together.


Lazy loading of some poses (If each contributor has their own picture, don't want to load them all, unless
the player visits their page).
    Create LazyLoadImagePose?? Relationship to ImagePose??
    Just add a "lazy" attribute to ImagePose

Allow creation of new Role objects from Javascript i.e. create a ScriptedRole and the script in one go.
    Constructor takes the ScriptedRole, or creates it if undefined.
    Use the same pattern to create View and Stage objects too, so that a TorusView can be created.
    Create TorusView and TorusCollisionStrategy



Unordered
=========

Dynamic class loader for game jar files, which live in resources/foo/lib/ or ./lib when outside of itchy's resources directory.

Make Text Costumes real costumes - Don't use the "Text" tool.
    Thumbnail to include the colour and the text "Abc".
    Don't add a String to the costume when creating it.
    Try to rationalise Actor's constructor - can I force it to have a Costume now?
        Actor(Costume, String poseName = "default" ) i.e. just two constructors.
        If a Pose is found use it, else if a Font is found use that, otherwise use a dummy 1x1 surface, and issue a warning.
    During load - if it finds a "text", then generate a costume which is used by later "text" actors.
    
Need to allow Makeup appear at any stage in the pipeline from the editor. e.g. a Decoration which should not be rotated with the actor.
Or a clip done at the end.
    A tick box "Advanced" will reveal a Compound Makeup as a table, with the standard items as well as the current Makeup if its not Null. 

Tiled background - instead of a RGBA, specify a Pose, and tile it in a Grid.
    More generic - Create a BackgroundView interface
    RGBABackground
    Tile, BrickH, BrickV, TileH, TileV (spacing can be different to the image size)

Non-visual Makeups - maybe only useful when chaining makeups
    Size (makes the appearance the given size without scaling
    Margin as above, but adds a given amount, rather than a set overall size.
    AlterOffset - useful for changing the rotation point.

Explosion and Projectile don't work very well with text - See Gate.collected.

Should Costumes have Makeup? If each jewel is given a Sparkle makeup, does it make sense to apply it to every jewel in the scene?
    No. A diamond costume would specify a standard makeup, which can be overridden if needed.
    Have a reset button to revert to the costume's makeup, or default makeup if it has none.
    Costumes' makeup just like animations - based on events, and can have multiple options picked a random.

Costume editor to have filters on event name and resource type.
    i.e. show all Animations, or show all "death" events, or show all "death" Animations or show everything. 
    Should the filters stay as you flick from one Costume to another - Yes, probably.

EntryBox is firing change events for arrow keys.

Allow Compound makeups
Glitter Makeup - sprinkle poses randomly. use getpixel.
Decoration - Adds a Pose to a given place relative to the actor's x,y.
Underscore - used for text poses to place a line under the text. Use "_" to create the line,  or Surface.fill. 
    Use it on link text when compound makeup is available.

Companion string names wont be renamed when a costume is renamed.
    Create a first class citizen "CompanionCostume"
    Get rid of old string based code.

Later
=====

Use JBox2D : http://www.jbox2d.org/


When a js file imports another, remember the dependency, so that the dependent classes get re-loaded if the dependecy is reloaded.
    e.g. If Moving.js is changed then Rock.js, Ship.js etc are reloaded.
    Think about circular dependencies. 
    When a script is asked if it needs reloading :
        Create a set of its script and all of its dependencies (recursively)
        Find the latest timestamp
        Check its load timestamp with the latest timestamp, and if its older, then re-load.
        Short-circuit if the 1st level depenencies is empty.

GUIView.keyUp does nothing - is this ok?

Joystick input devices.

Optimise Explosion by using fixAppearance for projectiles which are turned, but won't rotate.
    maybe just add a fix boolean, and leave it up to the user to do it.

check all code for this.[a-z 0-9]*\(, and remove the "this".

Create a Compound Role, which has a ClassName array of other Roles
    It has one AbstractProperty, who's Component is a table with Add/Remove Up/Down buttons, and clicking on any row show the
    properties for that row.
        Get this working for Role, and maybe it could be made generic for Makeup too.
    
BlitModes on Pose, so a "spotlight" can ADD

"Duplicate" button in Animation editor - maybe on Costume too.

Drag and drop to move and reorder animation in the editor.
    Replace the whole AnimationEditor with a timeline, where sequence are arranged left to right and parallel are stacked top to bottom.
    Test and edit are done in the same full screen editor - like scene designer.
    Add: Pick a pose, then place it on the world.
    A large time-line pane shows an overview of the animation. Dragging controls will change the tick or loops of the animation.
        Can fill the whole page, with the animation on top of it.
    Click at a point in the time-line to show that frame.
    Save the pose and start x,y, direction, heading with each animation ("test" tag)
    
Explanatory games
    e.g. Showing the different between heading and direction.

Catch all ScriptExceptions
    Report them to ScriptErrorLog, which will also write to stderr (not as a stack trace)
    An icon on the popup Layer shows when a new error has occurred. Click to open the log viewer.
        "Clear" button will remove the icon from the popup layer. 

Much Later
==========

Simple convolution filter
    Filters don't need to be square.
    Create empty space around the image. Later give option of duping the image's edge.
    Apply the convolution matrix.
        For RGB, just apply the matrix to each channel in turn.
        For RGBA we'd need to change the final DIVIDE to discount transparent pixels. i.e divide by sum of matrix * alphas.
        Apply the matrix to alpha as normal.
        
   Many things just need the alpha channel convolved?
           
Look at rotozoom, and try to implement a generic affine transformation matrix???
    Calc size of dest
    Calc pos of corners
    Bresinem walk from translated top left to bottom left.
        Bres walk across the "row"
        Copy pixel.
    That only leaves the problem of blending.
        Instead of choosing one src pixel, we consider the rectangle from the source
            Where the rect is large, average multiple pixels
            Where the rect is small (less than 2x2 pixels), average parts of each pixel.

Should poses and animations be owned by Resources, or by Costume? Some are used by only one, and therefore is annoying to be in a
big horrible unorganised list.
    When editing a pose it has a "shared" tick box, which just toggles.
        Defaults to true when adding a pose via PosesEditor
        Defaults to false when adding via the CostumesEditor (if that gets written).
        When a pose is used by a second costume, it is also changed to true (must be done post-save).
    When listing Poses shows : all, shared or a single costume's. (via a picker button). Defaults to shared.
    Animation names are still unique, but default to costumename.x when added via costumeseditor. 
    If an unshared pose is removed from its costume, then it is deleted - only acceptable if shared is hidden from the user.
    CostumesEditor needs Add -> Pose, New Pose, Animation, New Animation etc.
    
    The "shared" tick box currently is useless, so either use it, or remove it.
    Add an "unused" filter, which lists poses not used by a Costume, and let them be deleted manually.
    
Same pattern for sounds and animations, not for font or nine patches.


How about a Scripts tab
    List all scripts double click to edit.
    Show errors / Clear errors

A Gallery
    Import poses, costumes, fonts, animations etc from another game.
    Create a game just for this purpose.

Is the special Map needed which allows scripted Costume properties to be retrieved from BeanHelper
    Now we have ScriptedObject, isn't it better to have it done that way?
    Would need a "set" version of the special code too.

Scripted Behaviours can't detect MouseEvents.
    The whole Layer as a MouseListener needs looking at.

Text Costumes.
    Buttons can have sounds and animations

Get Thrust to run via "launch" without the resource symlinks to itchy.
    Need thrusts jar file to be in a lib directory within its resources, and for the jar to be loaded
    after java has started.

Bucket to be more transparent
Water looks naff

The stars on Drunk Invaders backgrounds should have more variation (alpha and slight colour - maybe size too).

Component : Override all rules. Currently only Font can be overridden.  
    Allow to be reset to default (i.e. be restyled). 

Create a game which uses the GUI        

Container.render should get the NinePatches to render directly onto the gc, not via a temp surface.
RenderableInterface is rubbish. NinePatches should be told where and how large to draw themselves
   (assuming that they can render onto a existing surface rather than needing a new surface).

Replace crufty render and render2 methods with the concept of a Graphics Context.
To scroll, a sub-layer, push the context, alter its mapping, call the childrens render,
then pop the context.

Appearance optimised so that it doesn't need to re-render the appearance to get the worldRectangle
    Maybe calculate the maximum rectangle for the Pose for any rotation
    When asked for its worldRect, if cached, returned that, other wise if direction == 0, return pose.rectangle * scale, otherwise return maximum rect * scale   
























