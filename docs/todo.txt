Current Tasks
=============

The-Mings delete existing Ming poses, and use the sprite sheet instead.

Create a TestMing role, a property to set the animation and dx, dy.
	Create a test scene, showing all possible animations.
	 
Improve basher's animation (similar to builders)?
	Clever use of the offsetX ?, or step, on a given message?
	Bash big lumps at a time

To aid testing, allow mings to be added with any job.

BUGS
====

Debris - Bullets (#2) stay alive, even when invisible, and kill rocks that pass over them.

TextArea's background center of nine patch is flat colour rather than tiled.

SceneDesigner doesn't use the full width when window is maximised
SceneDesigner toolbox isn't moved when the window is maximised (floats in middle of the screen).


New Features
============
	
Ensure Scrollbars of Scroll do not obscure the contents.

Use Scroll for TextArea, instead of its buggy, self implemented, non-clipping scroller.

PoseFilter : Scan Costumes' animations for FramedAnimations
	Without this the "Ming" filter only show one Ming.

TheMings
	Menu
	An actual real game level.

Design Stages/Views graphically - Aim for no code in Director.

Code Tidy Up
============

Move GraphicsContext to the gui package? Is it used elsewhere (for stages?)

Pyrox : gridRole.onBirth looks like rubbish. Is it called?
Pyrox : gridRole.talk looks weird.

Remove one of Costume's duplicates : getProperties, getCostumeProperties.

Look at companion, it has font, font size and color. Why ????
    Check sub classes for get/set for font colour size etc. I think this is done now???
    Check sub classes for margins???

Talk and TalkProjectile
    Talk doesn't have "fade", which is the only reason that Gate uses TalkProjectile (it doesn't move!!!)
    Should talk use animations to fade and die or a constant, hard-wired fade?
    Do we need Talk.stop now that we have TalkProjectile? It was originally there, so that it wouldn't follow!

    Zoom in/out : Scale all GridRole objects. Care needed if/when creating new objects.

Should TextPose have a TextStyle, rather than individual attributes?

Why have a Role interface if everything will end up using AbstractRole?
    Why does Role have "birth" and yet everything uses onBirth() ? Ditto with other events.
    At least make Role have the methods that people will actually use ie. onBirth rather than birth.


Rox Ideas
=========
    Have a music layer, which has notes at each point. When an object moves over it, call that note's event to play the note.
        When a player stays one square, continue to play the square's note(s)
            The player has events, and the squares have event names. Use animations to control the sequence of notes played?
                Use the player's animations, but animate the Note object so that it doesn't interfere with the player's normal animation.
        Can have a high tempo piece whenever you hover on a "dangerous" or important square.
        Different characters will play different samples (but of the same basic note).
        The "correct" way through the puzzle should always sound harmonious
        Have set riffs, which can be played in different keys.
            While moving across a same-key field, it will sound like "Bah-Bah-Bah-Bah" for each square walked.
            Then when you stand still, the riff continues "Bah-da-da-da-Bah-da-da".
        Some square are silent.
        The square knows the name of the note, but the level know the instrument to use. The sample to use if "$instrument-$note".
        Some music squares can change the instrument too. From and To at choke points
        Use the editor's strings to define the riffs??
        Would be nice to have a visual representation of the music squares values.
            Use Makeup to achieve this?
            Can use colour to denote the note - hue for A-G and saturation/brightness for the octave. Background pattern for the instrument.
        Put the music in the grid at the same time as the GridRoles.
        Use classic songs for some obvious-ish pathways.


Other Stuff
===========

SDL Drop event to add poses by dragging image files.

SceneDesigner for Text
    Don't have a "Text" tool??
    The thumbnail should have the font-size in the bottom right if its bigger than the thumbnail can display.
        Using an Editor's font, because we want a plain, consistent font.
    When saving an actor, only save the attributes which differ from the costume's style.
    Have a "Reset to Costume Defaults", and a "Apply to Costume" buttons.

Group Costumes on the SceneDesigner's toolbox, so that similar costumes can be displayed as a single item.
    Clicking it reveals a popup, where the actual Costume can be selected.
    Use this for Pyrox's machines, one way streets, and maybe even the walls.
        A costume can have a "Group Leader" field, which is the name of the Costume that is displayed as the
        main icon in the scene design toolbox. Similar impl as "costume base"

SceneDesigner : select groups of actors, and move/delete them together.

Tiled background - instead of a RGBA, specify a Pose, and tile it in a Grid.
    More generic - Create a Background interface, and let it have Properties
    NoBackground, RGBABackground
    Tile, BrickH, BrickV, TileH, TileV (spacing can be different to the image size)
    But Tiled Backgrounds only make sense if associated with a StageView, not one for the whole screen.

Explosion and Projectile don't work very well with text - See Gate.collected.

Should Costumes have Makeup? If each jewel is given a Sparkle makeup, does it make sense to apply it to every jewel in the scene?
    No. A diamond costume would specify a standard makeup, which can be overridden if needed.
    Have a reset button to revert to the costume's makeup, or default makeup if it has none.
    Costumes' makeup just like animations - based on events, and can have multiple options picked a random.
	One Makeup shared by many costumes, so it has its own tab, just like animation. 

GUIView.keyUp does nothing - is this ok?

Later
=====

Use JBox2D : http://www.jbox2d.org/

Joystick input devices.

Optimise Explosion by using fixAppearance for projectiles which are turned, but won't rotate.
    maybe just add a fix boolean, and leave it up to the user to do it.

Create a Compound Role, which has a ClassName array of other Roles
    It has one AbstractProperty, who's Component is a table with Add/Remove Up/Down buttons, and clicking on any row show the
    properties for that row.
        Get this working for Role, and maybe it could be made generic for Makeup too.

BlitModes on Pose, so a "spotlight" can ADD

"Duplicate" button in Animation editor - maybe on Costume too.

Drag and drop to move and reorder animation in the editor.
    Replace the whole AnimationEditor with a timeline, where sequence are arranged left to right and parallel are stacked top to bottom.
    Test and edit are done in the same full screen editor - like scene designer.
    Add: Pick a pose, then place it on the world.
    A large time-line pane shows an overview of the animation. Dragging controls will change the tick or loops of the animation.
        Can fill the whole page, with the animation on top of it.
    Click at a point in the time-line to show that frame.
    Save the pose and start x,y, direction, heading with each animation ("test" tag)

Explanatory games
    e.g. Showing the different between heading and direction.

Catch all ScriptExceptions
    Report them to ScriptErrorLog, which will also write to stderr (not as a stack trace)
    An icon on the popup Layer shows when a new error has occurred. Click to open the log viewer.
        "Clear" button will remove the icon from the popup layer.

Much Later
==========

Simple convolution filter
    Filters don't need to be square.
    Create empty space around the image. Later give option of duping the image's edge.
    Apply the convolution matrix.
        For RGB, just apply the matrix to each channel in turn.
        For RGBA we'd need to change the final DIVIDE to discount transparent pixels. i.e divide by sum of matrix * alphas.
        Apply the matrix to alpha as normal.

   Many things just need the alpha channel convolved?

Look at rotozoom, and try to implement a generic affine transformation matrix???
    Calc size of dest
    Calc pos of corners
    Bresinem walk from translated top left to bottom left.
        Bres walk across the "row"
        Copy pixel.
    That only leaves the problem of blending.
        Instead of choosing one src pixel, we consider the rectangle from the source
            Where the rect is large, average multiple pixels
            Where the rect is small (less than 2x2 pixels), average parts of each pixel.

Should poses and animations be owned by Resources, or by Costume? Some are used by only one, and therefore is annoying to be in a
big horrible unorganised list.
    When editing a pose it has a "shared" tick box, which just toggles.
        Defaults to true when adding a pose via PosesEditor
        Defaults to false when adding via the CostumesEditor (if that gets written).
        When a pose is used by a second costume, it is also changed to true (must be done post-save).
    When listing Poses shows : all, shared or a single costume's. (via a picker button). Defaults to shared.
    Animation names are still unique, but default to costumename.x when added via costumeseditor.
    If an unshared pose is removed from its costume, then it is deleted - only acceptable if shared is hidden from the user.
    CostumesEditor needs Add -> Pose, New Pose, Animation, New Animation etc.

    The "shared" tick box currently is useless, so either use it, or remove it.
    Add an "unused" filter, which lists poses not used by a Costume, and let them be deleted manually.

Same pattern for sounds and animations, not for font or nine patches.


How about a Scripts tab
    List all scripts double click to edit.
    Show errors / Clear errors

A Gallery
    Import poses, costumes, fonts, animations etc from another game.
    Create a game just for this purpose.

Get Thrust to run via "launch" without the resource symlinks to itchy.
    Need thrust's jar file to be in a lib directory within its resources, and for the jar to be loaded
    after java has started.

iThrust
	Bucket to be more transparent
	Water looks naff

Component : Override all rules. Currently only Font can be overridden.
    Allow to be reset to default (i.e. be restyled).

Create a game which uses the GUI

Container.render should get the NinePatches to render directly onto the gc, not via a temp surface.
RenderableInterface is rubbish. NinePatches should be told where and how large to draw themselves
   (assuming that they can render onto a existing surface rather than needing a new surface).

Replace crufty render and render2 methods with the concept of a Graphics Context.
To scroll, a sub-layer, push the context, alter its mapping, call the childrens render,
then pop the context.

Appearance optimised so that it doesn't need to re-render the appearance to get the worldRectangle
    Maybe calculate the maximum rectangle for the Pose for any rotation
    When asked for its worldRect, if cached, returned that, other wise if direction == 0, return pose.rectangle * scale, otherwise return maximum rect * scale
























